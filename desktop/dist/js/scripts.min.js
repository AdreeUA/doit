!function(e,t,n){function a(e,t){return typeof e===t}function i(){var e,t,n,i,o,s,r;for(var d in w)if(w.hasOwnProperty(d)){if(e=[],t=w[d],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=a(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)s=e[o],r=s.split("."),1===r.length?y[r[0]]=i:(!y[r[0]]||y[r[0]]instanceof Boolean||(y[r[0]]=new Boolean(y[r[0]])),y[r[0]][r[1]]=i),g.push((i?"":"no-")+r.join("-"))}}function o(e){var t=$.className,n=y._config.classPrefix||"";if(k&&(t=t.baseVal),y._config.enableJSClass){var a=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(a,"$1"+n+"js$2")}y._config.enableClasses&&(t+=" "+n+e.join(" "+n),k?$.className.baseVal=t:$.className=t)}function s(e,t){return!!~(""+e).indexOf(t)}function r(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):k?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function d(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,n){var i;for(var o in e)if(e[o]in t)return n===!1?e[o]:(i=t[e[o]],a(i,"function")?l(i,n||t):i);return!1}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(){var e=t.body;return e||(e=r(k?"svg":"body"),e.fake=!0),e}function p(e,n,a,i){var o,s,d,l,c="modernizr",u=r("div"),p=f();if(parseInt(a,10))for(;a--;)d=r("div"),d.id=i?i[a]:c+(a+1),u.appendChild(d);return o=r("style"),o.type="text/css",o.id="s"+c,(p.fake?p:u).appendChild(o),p.appendChild(u),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),u.id=c,p.fake&&(p.style.background="",p.style.overflow="hidden",l=$.style.overflow,$.style.overflow="hidden",$.appendChild(p)),s=n(u,e),p.fake?(p.parentNode.removeChild(p),$.style.overflow=l,$.offsetHeight):u.parentNode.removeChild(u),!!s}function h(t,a){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(u(t[i]),a))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+u(t[i])+":"+a+")");return o=o.join(" or "),p("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function m(e,t,i,o){function l(){u&&(delete S.style,delete S.modElem)}if(o=a(o,"undefined")?!1:o,!a(i,"undefined")){var c=h(e,i);if(!a(c,"undefined"))return c}for(var u,f,p,m,v,_=["modernizr","tspan","samp"];!S.style&&_.length;)u=!0,S.modElem=r(_.shift()),S.style=S.modElem.style;for(p=e.length,f=0;p>f;f++)if(m=e[f],v=S.style[m],s(m,"-")&&(m=d(m)),S.style[m]!==n){if(o||a(i,"undefined"))return l(),"pfx"==t?m:!0;try{S.style[m]=i}catch(g){}if(S.style[m]!=v)return l(),"pfx"==t?m:!0}return l(),!1}function v(e,t,n,i,o){var s=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+C.join(s+" ")+s).split(" ");return a(t,"string")||a(t,"undefined")?m(r,t,i,o):(r=(e+" "+D.join(s+" ")+s).split(" "),c(r,t,n))}function _(e,t,a){return v(e,n,n,t,a)}var g=[],w=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){w.push({name:e,fn:t,options:n})},addAsyncTest:function(e){w.push({name:null,fn:e})}},y=function(){};y.prototype=b,y=new y;var $=t.documentElement,k="svg"===$.nodeName.toLowerCase(),x="Moz O ms Webkit",C=b._config.usePrefixes?x.split(" "):[];b._cssomPrefixes=C;var D=b._config.usePrefixes?x.toLowerCase().split(" "):[];b._domPrefixes=D;var M={elem:r("modernizr")};y._q.push(function(){delete M.elem});var S={style:M.elem.style};y._q.unshift(function(){delete S.style}),b.testAllProps=v,b.testAllProps=_,y.addTest("flexbox",_("flexBasis","1px",!0));var j=function(t){var a,i=prefixes.length,o=e.CSSRule;if("undefined"==typeof o)return n;if(!t)return!1;if(t=t.replace(/^@/,""),a=t.replace(/-/g,"_").toUpperCase()+"_RULE",a in o)return"@"+t;for(var s=0;i>s;s++){var r=prefixes[s],d=r.toUpperCase()+"_"+a;if(d in o)return"@-"+r.toLowerCase()+"-"+t}return!1};b.atRule=j;var A=b.prefixed=function(e,t,n){return 0===e.indexOf("@")?j(e):(-1!=e.indexOf("-")&&(e=d(e)),t?v(e,t,n):v(e,"pfx"))};y.addTest("objectfit",!!A("objectFit"),{aliases:["object-fit"]}),i(),o(g),delete b.addTest,delete b.addAsyncTest;for(var O=0;O<y._q.length;O++)y._q[O]();e.Modernizr=y}(window,document),function(e){function t(){for(var e=new Date(this.toString()),t=28,n=e.getMonth();e.getMonth()==n;)++t,e.setDate(t);return t-1}e.addDays=function(e){this.setDate(this.getDate()+e)},e.addMonths=function(e){var n=this.getDate();this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(n,t.apply(this)))},e.addYears=function(e){var n=this.getDate();this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(n,t.apply(this)))},e.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),t=new Date(this.getFullYear(),0,0,0,0,0),n=e-t;return Math.floor(n/24*60*60*1e3)}}(Date.prototype),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e,t){e=e.split(" ");for(var n=0;n<e.length;++n)e[n]+=t;return e.join(" ")}function n(){var t,n,a,o,s,r,d,l=e(this).data("pickmeup-options"),c=this.pickmeup,u=Math.floor(l.calendars/2),f=l.date,p=l.current,h=l.min?new Date(l.min):null,m=l.max?new Date(l.max):null,v=(new Date).setHours(0,0,0,0).valueOf();h&&(h.setDate(1),h.addMonths(1),h.addDays(-1)),m&&(m.setDate(1),m.addMonths(1),m.addDays(-1)),c.find(".pmu-instance > :not(nav)").remove();for(var _=0;_<l.calendars;_++)if(t=new Date(p),o=c.find(".pmu-instance").eq(_),c.hasClass("pmu-view-years")?(t.addYears(12*(_-u)),n=t.getFullYear()-6+" - "+(t.getFullYear()+5)):c.hasClass("pmu-view-months")?(t.addYears(_-u),n=t.getFullYear()):c.hasClass("pmu-view-days")&&(t.addMonths(_-u),n=i(t,l.title_format,l.locale)),!r&&m&&(d=new Date(t),l.select_day?d.addMonths(l.calendars-1):l.select_month?d.addYears(l.calendars-1):d.addYears(12*(l.calendars-1)),d>m))--_,p.addMonths(-1),r=void 0;else if(r=new Date(t),!s&&(s=new Date(t),s.setDate(1),s.addMonths(1),s.addDays(-1),h&&h>s))--_,p.addMonths(1),s=void 0;else{o.find(".pmu-month").text(n),a="";var g=function(e){return"range"==l.mode&&e>=new Date(f[0]).getFullYear()&&e<=new Date(f[1]).getFullYear()||"multiple"==l.mode&&-1!==f.reduce(function(e,t){return e.push(new Date(t).getFullYear()),e},[]).indexOf(e)||new Date(f).getFullYear()==e},w=function(e,t){var n=new Date(f[0]).getFullYear(),a=new Date(f[1]).getFullYear(),i=new Date(f[0]).getMonth(),o=new Date(f[1]).getMonth();return"range"==l.mode&&e>n&&a>e||"range"==l.mode&&e==n&&a>e&&t>=i||"range"==l.mode&&e>n&&e==a&&o>=t||"range"==l.mode&&e==n&&e==a&&t>=i&&o>=t||"multiple"==l.mode&&-1!==f.reduce(function(e,t){return t=new Date(t),e.push(t.getFullYear()+"-"+t.getMonth()),e},[]).indexOf(e+"-"+t)||new Date(f).getFullYear()==e&&new Date(f).getMonth()==t};!function(){for(var e,n=[],i=t.getFullYear()-6,o=new Date(l.min).getFullYear(),s=new Date(l.max).getFullYear(),r=0;12>r;++r)e={text:i+r,class_name:[]},l.min&&e.text<o||l.max&&e.text>s?e.class_name.push("pmu-disabled"):g(e.text)&&e.class_name.push("pmu-selected"),e.class_name=e.class_name.join(" "),n.push(e);a+=b.body(n,"pmu-years")}(),function(){for(var e,n=[],i=t.getFullYear(),o=new Date(l.min).getFullYear(),s=new Date(l.min).getMonth(),r=new Date(l.max).getFullYear(),d=new Date(l.max).getMonth(),c=0;12>c;++c)e={text:l.locale.monthsShort[c],class_name:[]},l.min&&(o>i||s>c&&i==o)||l.max&&(i>r||c>d&&i>=r)?e.class_name.push("pmu-disabled"):w(i,c)&&e.class_name.push("pmu-selected"),e.class_name=e.class_name.join(" "),n.push(e);a+=b.body(n,"pmu-months")}(),function(){var n,i=[],o=t.getMonth();!function(){t.setDate(1);var e=(t.getDay()-l.first_day)%7;t.addDays(-(e+(0>e?7:0)))}();for(var s=0;42>s;++s){n={text:t.getDate(),class_name:[]},o!=t.getMonth()&&n.class_name.push("pmu-not-in-month"),0==t.getDay()?n.class_name.push("pmu-sunday"):6==t.getDay()&&n.class_name.push("pmu-saturday");var r=l.render(new Date(t))||{},d=t.valueOf(),c=l.min&&l.min>t||l.max&&l.max<t;r.disabled||c?n.class_name.push("pmu-disabled"):(r.selected||l.date==d||-1!==e.inArray(d,l.date)||"range"==l.mode&&d>=l.date[0]&&d<=l.date[1])&&n.class_name.push("pmu-selected"),d==v&&n.class_name.push("pmu-today"),r.class_name&&n.class_name.push(r.class_name),n.class_name=n.class_name.join(" "),i.push(n),t.addDays(1)}a+=b.body(i,"pmu-days")}(),o.append(a)}s.setDate(1),r.setDate(1),r.addMonths(1),r.addDays(-1),c.find(".pmu-prev").css("visibility",l.min&&l.min>=s?"hidden":"visible"),c.find(".pmu-next").css("visibility",l.max&&l.max<=r?"hidden":"visible"),l.fill.apply(this)}function a(t,n,i,o){if(t.constructor==Date)return t;if(!t)return new Date;var s=t.split(i);if(s.length>1)return s.forEach(function(t,s,r){r[s]=a(e.trim(t),n,i,o)}),s;var r=o.monthsShort.join(")(")+")("+o.months.join(")(");i=new RegExp("[^0-9a-zA-Z("+r+")]+");for(var d,l,c,u,f,p=t.split(i),h=n.split(i),m=new Date,v=0;v<p.length;v++)switch(h[v]){case"b":l=o.monthsShort.indexOf(p[v]);break;case"B":l=o.months.indexOf(p[v]);break;case"d":case"e":d=parseInt(p[v],10);break;case"m":l=parseInt(p[v],10)-1;break;case"Y":case"y":c=parseInt(p[v],10),c+=c>100?0:29>c?2e3:1900;break;case"H":case"I":case"k":case"l":u=parseInt(p[v],10);break;case"P":case"p":/pm/i.test(p[v])&&12>u?u+=12:/am/i.test(p[v])&&u>=12&&(u-=12);break;case"M":f=parseInt(p[v],10)}var _=new Date(void 0===c?m.getFullYear():c,void 0===l?m.getMonth():l,void 0===d?m.getDate():d,void 0===u?m.getHours():u,void 0===f?m.getMinutes():f,0);return isNaN(1*_)&&(_=new Date),_}function i(e,t,n){var a=e.getMonth(),i=e.getDate(),o=e.getFullYear(),s=e.getDay(),r=e.getHours(),d=r>=12,l=d?r-12:r,c=e.getDayOfYear();0==l&&(l=12);for(var u,f=e.getMinutes(),p=e.getSeconds(),h=t.split(""),m=0;m<h.length;m++){switch(u=h[m]){case"a":u=n.daysShort[s];break;case"A":u=n.days[s];break;case"b":u=n.monthsShort[a];break;case"B":u=n.months[a];break;case"C":u=1+Math.floor(o/100);break;case"d":u=10>i?"0"+i:i;break;case"e":u=i;break;case"H":u=10>r?"0"+r:r;break;case"I":u=10>l?"0"+l:l;break;case"j":u=100>c?10>c?"00"+c:"0"+c:c;break;case"k":u=r;break;case"l":u=l;break;case"m":u=9>a?"0"+(1+a):1+a;break;case"M":u=10>f?"0"+f:f;break;case"p":case"P":u=d?"PM":"AM";break;case"s":u=Math.floor(e.getTime()/1e3);break;case"S":u=10>p?"0"+p:p;break;case"u":u=s+1;break;case"w":u=s;break;case"y":u=(""+o).substr(2,2);break;case"Y":u=o}h[m]=u}return h.join("")}function o(){var t,n=e(this),a=n.data("pickmeup-options"),i=a.current;switch(a.mode){case"multiple":t=i.setHours(0,0,0,0).valueOf(),-1!==e.inArray(t,a.date)?e.each(a.date,function(e,n){return n==t?(a.date.splice(e,1),!1):!0}):a.date.push(t);break;case"range":a.lastSel||(a.date[0]=i.setHours(0,0,0,0).valueOf()),t=i.setHours(0,0,0,0).valueOf(),t<=a.date[0]?(a.date[1]=a.date[0],a.date[0]=t):a.date[1]=t,a.lastSel=!a.lastSel;break;default:a.date=i.valueOf()}var o=r(a);return n.is("input")&&n.val("single"==a.mode?o[0]:o[0].join(a.separator)),a.change.apply(this,o),a.flat||!a.hide_on_select||"range"==a.mode&&a.lastSel?void 0:(a.binded.hide(),!1)}function s(t){var n=e(t.target);if(n.hasClass("pmu-button")||(n=n.closest(".pmu-button")),n.length){if(n.hasClass("pmu-disabled"))return!1;var a=e(this),i=a.data("pickmeup-options"),o=n.parents(".pmu-instance").eq(0),s=o.parent(),r=e(".pmu-instance",s).index(o);if(n.parent().is("nav"))n.hasClass("pmu-month")?(i.current.addMonths(r-Math.floor(i.calendars/2)),s.hasClass("pmu-view-years")?("single"!=i.mode?i.current=new Date(i.date[i.date.length-1]):i.current=new Date(i.date),i.select_day?s.removeClass("pmu-view-years").addClass("pmu-view-days"):i.select_month&&s.removeClass("pmu-view-years").addClass("pmu-view-months")):s.hasClass("pmu-view-months")?i.select_year?s.removeClass("pmu-view-months").addClass("pmu-view-years"):i.select_day&&s.removeClass("pmu-view-months").addClass("pmu-view-days"):s.hasClass("pmu-view-days")&&(i.select_month?s.removeClass("pmu-view-days").addClass("pmu-view-months"):i.select_year&&s.removeClass("pmu-view-days").addClass("pmu-view-years"))):n.hasClass("pmu-prev")?i.binded.prev(!1):i.binded.next(!1);else if(!n.hasClass("pmu-disabled"))if(s.hasClass("pmu-view-years"))i.current.setFullYear(parseInt(n.text(),10)),i.select_month?s.removeClass("pmu-view-years").addClass("pmu-view-months"):i.select_day?s.removeClass("pmu-view-years").addClass("pmu-view-days"):i.binded.update_date();else if(s.hasClass("pmu-view-months"))i.current.setMonth(o.find(".pmu-months .pmu-button").index(n)),i.current.setFullYear(parseInt(o.find(".pmu-month").text(),10)),i.select_day?s.removeClass("pmu-view-months").addClass("pmu-view-days"):i.binded.update_date(),i.current.addMonths(Math.floor(i.calendars/2)-r);else{var d=parseInt(n.text(),10);i.current.addMonths(r-Math.floor(i.calendars/2)),n.hasClass("pmu-not-in-month")&&i.current.addMonths(d>15?-1:1),i.current.setDate(d),i.binded.update_date()}i.binded.fill()}return!1}function r(t){var n;return"single"==t.mode?(n=new Date(t.date),[i(n,t.format,t.locale),n]):(n=[[],[]],e.each(t.date,function(e,a){var o=new Date(a);n[0].push(i(o,t.format,t.locale)),n[1].push(o)}),n)}function d(n){var i=this.pickmeup;if(n||!i.is(":visible")){var o=e(this),s=o.data("pickmeup-options"),r=o.offset(),d={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},l=r.top,c=r.left;if(s.binded.fill(),o.is("input")&&(o.pickmeup("set_date",a(o.val()?o.val():s.default_date,s.format,s.separator,s.locale)).keydown(function(e){9==e.which&&o.pickmeup("hide")}),s.lastSel=!1),s.before_show(),0==s.show())return;if(!s.flat){switch(s.position){case"top":l-=i.outerHeight();break;case"left":c-=i.outerWidth();break;case"right":c+=this.offsetWidth;break;case"bottom":l+=this.offsetHeight}l+i.offsetHeight>d.t+d.h&&(l=r.top-i.offsetHeight),l<d.t&&(l=r.top+this.offsetHeight+i.offsetHeight),c+i.offsetWidth>d.l+d.w&&(c=r.left-i.offsetWidth),c<d.l&&(c=r.left+this.offsetWidth),i.css({display:"inline-block",top:l+"px",left:c+"px"}),e(document).on(t(s.trigger_event,s.events_namespace),s.binded.hide).on("resize"+s.events_namespace,[!0],s.binded.forced_show)}}}function l(){d.call(this,!0)}function c(n){if(!n||!n.target||n.target!=this&&!(16&this.pickmeup.get(0).compareDocumentPosition(n.target))){var a=this.pickmeup,i=e(this).data("pickmeup-options");0!=i.hide()&&(a.hide(),e(document).off(t(i.trigger_event,i.events_namespace),i.binded.hide).off("resize",i.binded.forced_show),i.lastSel=!1)}}function u(){var n=e(this).data("pickmeup-options");e(document).off(t(n.trigger_event,n.events_namespace),n.binded.hide).off("resize",n.binded.forced_show),n.binded.forced_show()}function f(){var t=e(this).data("pickmeup-options");"single"!=t.mode&&(t.date=[],t.lastSel=!1,t.binded.fill())}function p(t){"undefined"==typeof t&&(t=!0);var n=this.pickmeup,a=e(this).data("pickmeup-options");n.hasClass("pmu-view-years")?a.current.addYears(-12):n.hasClass("pmu-view-months")?a.current.addYears(-1):n.hasClass("pmu-view-days")&&a.current.addMonths(-1),t&&a.binded.fill()}function h(t){"undefined"==typeof t&&(t=!0);var n=this.pickmeup,a=e(this).data("pickmeup-options");n.hasClass("pmu-view-years")?a.current.addYears(12):n.hasClass("pmu-view-months")?a.current.addYears(1):n.hasClass("pmu-view-days")&&a.current.addMonths(1),t&&a.binded.fill()}function m(t){var n=e(this).data("pickmeup-options"),a=r(n);if("string"==typeof t){var o=a[1];return o.constructor==Date?i(o,t,n.locale):o.map(function(e){return i(e,t,n.locale)})}return a[t?0:1]}function v(t){var n=e(this),i=n.data("pickmeup-options");if(i.date=t,"string"==typeof i.date?i.date=a(i.date,i.format,i.separator,i.locale).setHours(0,0,0,0):i.date.constructor==Date&&i.date.setHours(0,0,0,0),i.date||(i.date=new Date,i.date.setHours(0,0,0,0)),"single"!=i.mode)if(i.date.constructor!=Array)i.date=[i.date.valueOf()],"range"==i.mode&&i.date.push(new Date(i.date[0]).setHours(0,0,0,0).valueOf());else{for(var o=0;o<i.date.length;o++)i.date[o]=a(i.date[o],i.format,i.separator,i.locale).setHours(0,0,0,0).valueOf();"range"==i.mode&&(i.date[1]=new Date(i.date[1]).setHours(0,0,0,0).valueOf())}else(n.val()||i.default_date!==!1)&&(i.date=i.date.constructor==Array?i.date[0].valueOf():i.date.valueOf());if(i.current=new Date("single"!=i.mode?i.date[0]:i.date),i.binded.fill(),n.is("input")&&i.default_date!==!1){var s=r(i);n.val()||i.change.apply(this,s),n.val("single"==i.mode?s[0]:s[0].join(i.separator))}}function _(){var t=e(this),n=t.data("pickmeup-options");t.removeData("pickmeup-options"),t.off(n.events_namespace),e(document).off(n.events_namespace),e(this.pickmeup).remove()}var g=0;e.pickmeup=e.extend(e.pickmeup||{},{date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var w={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},b={wrapper:'<div class="pickmeup" />',head:function(e){for(var t="",n=0;7>n;++n)t+="<div>"+e.day[n]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+e.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+e.next+'</div></nav><nav class="pmu-day-of-week">'+t+"</nav></div>"},body:function(e,t){for(var n="",a=0;a<e.length;++a)n+='<div class="'+e[a].class_name+' pmu-button">'+e[a].text+"</div>";return'<div class="'+t+'">'+n+"</div>"}};e.fn.pickmeup=function(i){if("string"==typeof i){var r,y=Array.prototype.slice.call(arguments,1);switch(i){case"hide":case"show":case"clear":case"update":case"prev":case"next":case"destroy":this.each(function(){r=e(this).data("pickmeup-options"),r&&r.binded[i]()});break;case"get_date":return r=this.data("pickmeup-options"),r?r.binded.get_date(y[0]):null;case"set_date":this.each(function(){r=e(this).data("pickmeup-options"),r&&r.binded[i].apply(this,y)})}return this}return this.each(function(){var r=e(this);if(!r.data("pickmeup-options")){var y,$,k=e.extend({},e.pickmeup,i||{});for(y in k)$=r.data("pmu-"+y),"undefined"!=typeof $&&(k[y]=$);if("days"!=k.view||k.select_day||(k.view="months"),"months"!=k.view||k.select_month||(k.view="years"),"years"!=k.view||k.select_year||(k.view="days"),"days"!=k.view||k.select_day||(k.view="months"),k.calendars=Math.max(1,parseInt(k.calendars,10)||1),k.mode=/single|multiple|range/.test(k.mode)?k.mode:"single","string"==typeof k.min?k.min=a(k.min,k.format,k.separator,k.locale).setHours(0,0,0,0):k.min&&k.min.constructor==Date&&k.min.setHours(0,0,0,0),"string"==typeof k.max?k.max=a(k.max,k.format,k.separator,k.locale).setHours(0,0,0,0):k.max&&k.max.constructor==Date&&k.max.setHours(0,0,0,0),k.select_day||(k.min&&(k.min=new Date(k.min),k.min.setDate(1),k.min=k.min.valueOf()),k.max&&(k.max=new Date(k.max),k.max.setDate(1),k.max=k.max.valueOf())),"string"==typeof k.date?k.date=a(k.date,k.format,k.separator,k.locale).setHours(0,0,0,0):k.date.constructor==Date&&k.date.setHours(0,0,0,0),k.date||(k.date=new Date,k.date.setHours(0,0,0,0)),"single"!=k.mode){if(k.date.constructor!=Array)k.date=[k.date.valueOf()],"range"==k.mode&&k.date.push(new Date(k.date[0]).setHours(0,0,0,0).valueOf());else{for(y=0;y<k.date.length;y++)k.date[y]=a(k.date[y],k.format,k.separator,k.locale).setHours(0,0,0,0).valueOf();"range"==k.mode&&(k.date[1]=new Date(k.date[1]).setHours(0,0,0,0).valueOf())}if(k.current=new Date(k.date[k.date.length-1]),!k.select_day)for(y=0;y<k.date.length;++y)k.date[y]=new Date(k.date[y]),k.date[y].setDate(1),k.date[y]=k.date[y].valueOf(),"range"!=k.mode&&k.date.indexOf(k.date[y])!==y&&(delete k.date.splice(y,1),--y)}else k.date=k.date.valueOf(),k.current=new Date(k.date),k.select_day||(k.date=new Date(k.date),k.date.setDate(1),k.date=k.date.valueOf());k.current.setDate(1),k.current.setHours(0,0,0,0);var x,C=e(b.wrapper);this.pickmeup=C,k.class_name&&C.addClass(k.class_name);var D="";for(y=0;y<k.calendars;y++)x=k.first_day,D+=b.head({prev:k.prev,next:k.next,day:[k.locale.daysMin[x++%7],k.locale.daysMin[x++%7],k.locale.daysMin[x++%7],k.locale.daysMin[x++%7],k.locale.daysMin[x++%7],k.locale.daysMin[x++%7],k.locale.daysMin[x++%7]]});r.data("pickmeup-options",k);for(y in k)-1!=["render","change","before_show","show","hide"].indexOf(y)&&(k[y]=k[y].bind(this));k.binded={fill:n.bind(this),update_date:o.bind(this),click:s.bind(this),show:d.bind(this),forced_show:l.bind(this),hide:c.bind(this),update:u.bind(this),clear:f.bind(this),prev:p.bind(this),next:h.bind(this),get_date:m.bind(this),set_date:v.bind(this),destroy:_.bind(this)},k.events_namespace=".pickmeup-"+ ++g,C.on(t(k.trigger_event,k.events_namespace),k.binded.click).addClass(w[k.view]).append(D).on(e.support.selectstart?"selectstart":"mousedown",function(e){e.preventDefault()}),k.binded.fill(),k.flat?C.appendTo(this).css({position:"relative",display:"inline-block"}):(C.appendTo(document.body),r.on(t(k.trigger_event,k.events_namespace),k.binded.show))}})}}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var a,i=parseInt(arguments[1],10)||0;i>=0?a=i:(a=n+i,0>a&&(a=0));for(var o;n>a;){if(o=t[a],e===o)return!0;a++}return!1}),window.Events=function(){var e=function(){return this.init()};return e.prototype={init:function(){return this.ev=[],this},on:function(e,t){if(t){var n={name:e,f:t};this.ev.push(n)}},trigger:function(e,t){for(var n=0;n<this.ev.length;n++)this.ev[n].name==e&&this.ev[n].f(t)}},e.prototype.emmit=e.prototype.trigger,new e}();var PreviewImage=function(e){return this.stgs=e||{},this.init()};PreviewImage.prototype={init:function(){return this.stgs&&"object"==typeof this.stgs?(this.initaled=!0,this._setStgs(),this.item=$(this.stgs.item),this.template=$(this.stgs.template),void this._binded()):this},_setStgs:function(){var e=this.stgs;this.stgs={template:e.template,item:e.item,onChange:e.onChange,howAdd:e.howAdd.replace(" ","")||"before",loadedClass:e.loadedClass||"PreviewImage-loaded"},this.cached={}},_binded:function(){var e=this;this.item.on("change",function(t){e.onChange(this,$(this),t)})},onChange:function(e,t,n){var a,i=this;if(window.File&&window.FileReader&&window.FileList&&window.Blob)for(var o=0;o<n.target.files.length;o++){var s=new FileReader;s.readAsDataURL(n.target.files[o]),a=this.template.clone(),function(e,t,n){s.onload=function(a){i._rendered(a,e,t,n)}}(a,n.target.files.length-1,o)}},_rendered:function(e,t,n,a){var i=this.item.parents(".j-PreviewView-parent").length?this.item.parents(".j-PreviewView-parent"):this.item.parent(),o=this.stgs.howAdd.replace(" ","").split(",");t.find("img").attr("src",e.target.result),$(".j-PreviewRemoveRender").remove(),o.includes("replace-input")&&this._renderedReplace(t,i),o.includes("cached")&&(t=this._renderedCached(t,i,a)),o.includes("before")&&this._renderedBefore(t,i),o.includes("remove")&&this._addRemoved(t,i),this.cached.tmpl=t},_addRemoved:function(e,t){e.on("click",".j-PreviewImage-remove",function(t){t.preventDefault(),e.remove()})},_renderedBefore:function(e,t){t.before(e)},_renderedCached:function(e,t,n){return 0==n&&$(".j-PreviewImage-Cached").remove(),e.addClass("j-PreviewImage-Cached"),e},_renderedReplace:function(e,t){this.cached.tmpl&&this.cached.tmpl.remove(),t.hasClass(this.stgs.loadedClass)||t.addClass(this.stgs.loadedClass),this.item.before(e)}};var PreviewImages=function(e,t,n){for(var a=[],i=0;i<t.length;i++)a.push(new PreviewImage({template:e,item:t[i],howAdd:n}));return a},AnchorController=function(){var e={},t=function(){Events.on("AddActModule.change",function(e){n(e)})},n=function(e){window.location=window.location.pathname+"#"+e};return e.init=t,e}(),fnModule=function(){var e={},t=function(){$.fn.typingAnimation=function(e){var t,n,a=this,i=a.data("text"),o=i.split("");return a.html(""),n=function s(){if(!(o.length>0))return clearTimeout(t),!1;var n=a.html();a.html(n+=o.shift()),t=setTimeout(s,e)},n(),this},jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],weekdaysFull:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],weekdaysShort:["вс","пн","вт","ср","чт","пт","сб"],today:"сегодня",clear:"удалить",close:"закрыть",firstDay:1,format:"d mmmm yyyy г.",formatSubmit:"yyyy/mm/dd"})},n=function(e){var t=e.get(0),n=t.getBoundingClientRect(),a=document.documentElement.clientHeight,i=n.top>0&&n.top<a,o=n.bottom<a&&n.bottom>0;return i||o},a=function(e,t){var a=function(i){n(e)&&(t(),$(document).off("scroll",a))};$(document).on("scroll",a),a()},i=function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},o=function(e){var t=function(){$("head meta[name=viewport]").remove(),$("head").prepend('<meta name="viewport" content="user-scalable=0" />')},n=function(){$("head meta[name=viewport]").remove(),$("head").prepend('<meta name="viewport" content="user-scalable=1" />')};e===!0?n():e===!1&&t()},s=function(e,t){var n=i(),a=$(e),o=function(){a.addClass("no-scroll").css({"padding-right":n+"px"})},s=function(){a.removeClass("no-scroll").css({"padding-right":""})};switch(t){case"show":s();break;case"hide":o();break;default:a.hasClass("no-scroll")?s():o()}},r=function(e,t){var n=e.outerHeight(),a=e.outerWidth(),i=document.documentElement.clientWidth,o=document.documentElement.clientHeight,s=e.get(0).getBoundingClientRect(),r=s.left+a/2,d=s.top+n/2;switch(t){case"center":e.css({top:o/2-d+"px",left:i/2-r+"px"});break;case"top":e.css({top:50-s.top+"px"})}},d=function(e,t){var n=e.offset().top,t=t||500,a=$(".header"),i=n-a.outerHeight();$("html, body").animate({scrollTop:i},t)},l=function(e,t,n,a){var i=$("#umodal");if(i.length){var o,s=i.find(".box-modal__title"),r=i.find(".box-modal__content-item");s.text(""),r.html('<div class="box-modal__text"><p class="box-modal__text-par"></p></div>'),o=i.find(".box-modal__text-par"),i.removeAttr("data-single"),a&&$(".box-modal:visible").not(i).length&&$(".box-modal:visible").not(i).arcticmodal("close"),void 0!=e&&""!=e?s.text(e):s.html("&nbsp;"),n?r.html(t):o.text(t),i.arcticmodal()}};return e.init=t,e.isVisible=n,e.toggleScrollBar=s,e.positionTo=r,e.triggerOnScroll=a,e.toggleZoom=o,e.animateScroll=d,e.umodal=l,e}(),animationsModule=function(){"use strict";function e(){var e;return e=window.navigator.userAgent,e.match(/iPad/i)||e.match(/iPhone/i)}function t(){var e;return e=navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,[].indexOf.call(window,"ontouchstart")>=0||e}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t){this.el=e,this.options=n({},this.options),n(this.options,t),this.checked=!1,$(this.el).hasClass("like-button_checked")&&(this.checked=!0),this.timeline=new mojs.Timeline;for(var a=0,i=this.options.tweens.length;i>a;++a)this.timeline.add(this.options.tweens[a]);var o=this;this.el.addEventListener(s,function(){o.checked?o.options.onUnCheck():(o.options.onCheck(),o.timeline.start()),o.checked=!o.checked})}var i={},o=e(),s=o||t()?"touchstart":"click";a.prototype.options={tweens:[new mojs.Burst({shape:"circle",isRunLess:!0})],onCheck:function(){return!1},onUnCheck:function(){return!1}};var r=function(){var e=$(".like-button"),t=mojs.easing.path("M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0");e.each(function(){var e=$(this),n=this,i=n.querySelector(".like-button__icon"),o=n.style.color;new a(n,{tweens:[new mojs.Burst({parent:n,duration:1500,shape:"circle",fill:["#988ADE","#DE8AA0","#8AAEDE","#8ADEAD","#DEC58A","#8AD1DE"],x:"50%",y:"50%",opacity:.6,childOptions:{radius:{20:0}},radius:{40:120},count:6,isSwirl:!0,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:900,onUpdate:function(e){var n=t(e);i.style.WebkitTransform=i.style.transform="scale3d("+n+","+n+",1)"}})],onCheck:function(){n.style.color="#50e3c2",e.addClass("like-button_checked")},onUnCheck:function(){n.style.color=o,e.removeClass("like-button_checked")}})})};return i.init=function(){userAuth&&r()},i}(),tabsModule=function(){var e={},t=$(".tabs");return e.init=function(){t.length&&(t.easytabs({tabs:"> .tabs__header .tabs__nav-item",panelActiveClass:"tabs__panel_active"}),t.on("easytabs:after",function(e,t,n){var a=n.find(".gallery");a.length&&a.masonry("layout")}),t.each(function(){var e=$(this),t=e.find(".tabs__nav-link.active").eq(0),n=e.find(t.attr("href"));e.trigger("tabs:init",[t,n])})),$(document).on("click",".js-open-tab",function(e){var t=$(this),n=t.attr("href"),a=n.indexOf("#"),i=n.slice(a),o=$(i),s=o.closest(".tabs");s.length&&(e.preventDefault(),s.easytabs("select",i))})},e}(),toggleModule=function(){var e={},t=function(){var e=$(".js-toggle-wrapper"),t=function(e){var t=$(this),n=$(e.target),a=n.closest(".js-toggle-btn");if(a.length){if(t.hasClass("js-toggle-wrapper_open"))history.pushState("",document.title,window.location.pathname),t.removeClass("js-toggle-wrapper_open");else{var i=t.attr("id");t.removeAttr("id"),location.hash=i,t.attr("id",i),t.addClass("js-toggle-wrapper_open")}e.preventDefault()}};e.on("click",t)},n=function(){var e=$(".js-toggle-wrapper");if(e.length){var t=location.hash,n=e.filter(t);n.length&&n.toggleClass("js-toggle-wrapper_open")}};return e.init=function(){t(),n()},e}(),formModule=function(){var e={},t=function(){n(),r(),d(),l(),c(),f(),p(),o(),s()},n=function(){var e=$(".tiling-inputs");e.on("change",i),u(),$(".js-input-number").on("input",function(e){var t=$(this),n=parseInt(t.data("max")),a=t.val().match(/\d+/);parseInt(a)>n&&(a=n),t.val(a)}),$(document).on("focus",".custom-placeholder",function(e){var t=$(this),n=t.find(".custom-placeholder__input"),a=t.find(".custom-placeholder__text");a.hide(),t.one("focusout",function(){var e=n.val();e?a.hide():a.show()})})},a=function(e){var t=$(".custom-placeholder__input"),n=$(".custom-placeholder__text");t.val()?t.siblings(n).hide():t.siblings(n).hide()};a();var i=function(e){var t=$(this),n=$(e.target),a=t.find(".custom-input__hidden"),o=t.find(".custom-input_user-val .custom-input__label"),s=n.closest(".custom-input_user-val");return o.length?void(s.length?(a.filter(":checked").removeAttr("checked"),o.addClass("custom-input__label_has-val")):o.val("").removeClass("custom-input__label_has-val")):void t.off("change",i)},o=function(){$(".js-input-mask").inputmask()},s=function(){$(".js-input-phone-mask").inputmask("+7(999) 999-99-99",{clearMaskOnLostFocus:!1})},r=function(){var e=$(".select"),t=$(".js-select-autocomplete");e.length&&e.styler(),t.length&&t.select2({theme:"default select-autocomplete",width:"100%",language:{noResults:function(){return"Ничего не найдено"}}})},d=function(){var e=$(".datepicker__input");e.length&&e.each(function(){var e=$(this),t=e.closest(".datepicker"),n=t.find(".datepicker__placeholder"),a=n.text();e.pickadate({onOpen:function(){
fnModule.toggleScrollBar($("html"),"hide"),fnModule.toggleScrollBar($(".header"),"hide")},onClose:function(){$(document.activeElement).blur(),setTimeout(function(){fnModule.toggleScrollBar($("html"),"show"),fnModule.toggleScrollBar($(".header"),"show")},300)},onSet:function(t){if(e.hasClass("datepicker__input_big-size"))if(void 0!=t.select){var i=this.get("select","dd.mm.yyyy");n.addClass("datepicker__placeholder_active").text(i)}else n.removeClass("datepicker__placeholder_active").text(a)}});var i=e.val();i&&e.pickadate("picker").set("select",i,{format:"yyyy-mm-dd"})})},l=function(){var e=$(".datepicker__placeholder"),t=$(".rangepicker"),n=$(".rangepicker__input");$.pickmeup.locale={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"]},n.on("click",function(){t.pickmeup("show")});t.pickmeup({flat:!0,mode:"range",calendars:2,data:[new Date],change:function(a,i){var o=t.pickmeup("get_date","d.m.Y");e.html(o[0]+" - "+o[1]),n.val(t.pickmeup("get_date","Y-m-d H:m:s"))}})},c=function(){var e=$("input textarea");e.length&&e.placeholder()},u=function(){var e=$(".search");e.length&&e.each(function(){var e=$(this);if(e.data("morphing")){var t=e.find(".search__inner"),n=t.css("top"),a=(t.css("left"),e.closest(e.data("morphing-root"))),i=a.css("z-index"),o=function(s){var r=($(this),$(window).scrollTop());fnModule.toggleZoom(!1),setTimeout(function(){fnModule.toggleZoom(!0)},1e3);var d=function(s){var r=$(s.target);if("keyup"===s.type){if(27!==s.keyCode)return;$(":focus").blur()}"click"===s.type&&r.closest(t).length||(a.css("z-index",i),fnModule.toggleScrollBar("body"),t.css({top:n}),e.removeClass("search_morphing").off("click keyup",d).on("focus",".search__input",o))};a.css("z-index",9999),fnModule.toggleScrollBar("body"),fnModule.positionTo(t,"top"),$(window).scrollTop(r),e.addClass("search_morphing").off("focus",".search__input",o).on("click keyup",d)};e.on("focus",".search__input",o),$(".header__search").click(function(){var e=$(window).scrollTop();$("#hidden-search").trigger("focus"),$(window).scrollTop(e)}),$(".j-main-search").click(function(){var e=$(window).scrollTop();$("#hidden-search").trigger("focus"),$(window).scrollTop(e)})}})},f=function(){var e=$(".limited-message");e.length&&e.each(function(){var e=$(this),t=e.data("max"),n=e.find(".limited-message__textarea"),a=e.find(".limited-message__current-val"),i=e.find(".limited-message__max-val"),o=e.find(".limited-message__progress-val");i.text(t),n.on("keyup change",function(e){var i=n.val();i.length>t&&(i=i.slice(0,t),n.val(i)),a.text(i.length),o.width(parseInt(i.length)/parseInt(t)*100+"%")})})},p=function(){var e=$(".js-limiter-characters");e.length&&e.each(function(){function e(){var e=t.val().split(/\r|\r\n|\n/).length-1,n=t.val().length+e,a=parseInt("0"+t.attr("maxlength")),i=n/a*100;t.parent(".input-limiter-wrapper").find(".quantity-characters").text(n),t.parent(".input-limiter-wrapper").find(".max-quantity-characters").text(a),t.parent(".input-limiter-wrapper").find(".status-line__completed").css({width:i+"%"})}var t=$(this);e(),t.on("keydown",function(t){e()})})};return e.init=t,e}(),appModule=function(){var e={},t=function(){svg4everybody(),c(),h(),f(),y(),k(),x(),C(),D(),M(),S(),b(),s(),o(),n(),_(),j()},n=function(){$(document).on("mouseenter mouseout",".btn_hover_pos-aware",p),$(document).on("click",".like",u),$(window).on("resize",h),$(window).on("resize",o),$(document).on("click",".js-animate-scroll",g),$(document).on("click",".supporter__switch",a),$(document).on("click",".fund__switch",i),r(),l(),m(),d(),w(),$(document).on("battery-loaded",function(e,t){_(t)}),$(document).on("click",".filled-btn",function(e,t){setTimeout(function(){_(t)},600)})},a=function(e){var t=$(this),n=t.closest(".supporter");n.toggleClass("supporter_open")},i=function(e){var t=$(this),n=t.closest(".fund__text"),a=t.text();"подробнее"==a.toLowerCase()?t.text("Скрыть"):t.text("Подробнее"),n.toggleClass("fund__text_open")},o=function(){function e(){$(this).hasClass("supporter__descr")?($(this).closest(".supporter").removeClass("supporter_open"),$(this).find("span").height()-6>$(this).height()&&$(this).find(".supporter__switch").show(),$(this).find("span").height()-6<$(this).height()&&$(this).find(".supporter__switch").hide()):$(this).hasClass("fund__text")&&($(this).removeClass("fund__text_open"),$(this).find("span").height()+3>$(this).height()&&$.trim($(this).find("span").text())!=$.trim($(this).find(".fund__switch").text())?$(this).find(".fund__switch").show():$(this).find(".fund__switch").hide())}$(".supporter__descr, .fund__text").each(e)},s=function(){var e=$(".acts-one-info__descr");$(".acts-one-info__img-wrapper").imagesLoaded().done(function(t){if($(".acts-one-info__descr").length){var n=$(".acts-one-info__img-wrapper").height();e.dotdotdot({height:n+25,after:"a.acts-one-info__link-more"})}}).fail(function(){e.dotdotdot({height:250,after:"a.acts-one-info__link-more"})}),$(".js-text-trigger").on("click",function(t){t.preventDefault(),e.trigger("originalContent",function(e){$(this).html("").append(e).addClass("acts-one-info__descr_open")})})},r=function(){var e=$(".header_transform"),t=function(t){var a=$(window).scrollTop();$(window).height();a>n?e.removeClass("header_theme_air"):e.addClass("header_theme_air")};if(e.length){var n=e.height();t(),$(document).on("scroll",t)}},d=function(){var e=$(".header"),t=function(){var t=window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;e.css("left",-t)};e.length&&$(window).on("scroll resize",t)},l=function(){var e=$(".helper-sidebar"),t=$(".helper-sidebar__list"),n=function(e){var n=$(window).scrollTop(),s=n-a+i+"px";n+d>=o?r-i>=n+i&&t.css("top",s):t.css("top","")};if(t.length){var a=t.offset().top,i=t.outerHeight(),o=e.offset().top,s=e.outerHeight(),r=o+s,d=$(".header").outerHeight()||0;$(document).on("scroll",n)}},c=function(){var e=$(".acts-sec__slider");e.length&&e.slick({slidesToShow:3,slide:".acts-sec__item",infinite:!1})},u=function(e){var t=$(this);e.preventDefault(),userAuth&&t.toggleClass("like_active")},f=function(){var e=$(".tooltip");e.length&&e.each(function(){var e=$(this),t=e.find(".tooltip__content"),n=e.data("container"),a=e.closest(n),i={};i.my=e.data("position-my"),i.at=e.data("position-at"),e.qtip({content:{text:t},position:{my:i.my,at:i.at,container:a},style:{classes:"qtip-rounded tooltip-popup"},show:{solo:!0},hide:"unfocus scroll"})})},p=function(e){var t=$(this),n=t.find(".btn__hover"),a=$(this).offset(),i=e.pageX-a.left,o=e.pageY-a.top;n.css({top:o,left:i})},h=function(){var e=document.body.clientWidth,t=$(".index-page__sections-col .container");if(t.length||$(window).off("resize",h),e>1440){var n=t.outerWidth(),a=150-(e-n)/2;a>30?t.css("padding-right",a):t.css("padding-right",30)}else t.css("padding-right","")},m=function(){var e=$(".js-typing-anim");e.length&&e.each(function(){var e=$(this);fnModule.triggerOnScroll(e,function(){e.typingAnimation(100)})})},v=new Date,_=function(e){var e=e||$(".battery"),t=$.animateNumber.numberStepFactories.append("%");e.length&&e.each(function(){function e(){i.css("width",a+"%"),o.animateNumber({number:a,numberStep:t},1500)}var n=$(this),a=parseInt(n.data("val")),i=n.find(".battery__progress"),o=n.find(".battery__val");a=isNaN(a)?0:a,fnModule.triggerOnScroll(n,function(){var t=setInterval(function(){var a=(new Date-v)/1e3;a>2&&(clearInterval(t),fnModule.triggerOnScroll(n,e))},100)})})},g=function(e){var t=$(this),n=$(t.attr("href")),a=t.data("event");e.preventDefault(),fnModule.animateScroll(n,800),a&&$(n).trigger(a)},w=function(){var e=$(".js-anim-obj");e.length&&e.each(function(){var e=$(this);e.imagesLoaded(function(){fnModule.triggerOnScroll(e,function(t){e.addClass("trigger")})})})},b=function(){var e=$(".gallery");if(e.length){var t=(e.find("img"),e.masonry({itemSelector:".gallery__item",columnWidth:".gallery__item",percentPosition:!0}));e.imagesLoaded().progress(function(){t.masonry("layout")})}},y=function(){var e=$(".js-text-overflow");e.length&&e.each(function(){var e=$(this);e.dotdotdot({watch:"window"})})},k=function(){var e=$(".js-input-styler");e.length&&e.styler()},x=function(){var e=$(".js-custom-scroll");e.length&&e.mCustomScrollbar({mouseWheelPixels:100,theme:"custom",updateOnContentResize:!0,callbacks:{onScroll:function(){$(this).trigger("onScroll")},onTotalScroll:function(){$(this).trigger("onTotalScroll")},onTotalScrollOffset:200}})},C=function(){var e=$(".js-shine-mouse");e.length&&e.each(function(e,t){function n(e){a.light.position.x=e.clientX,a.light.position.y=e.clientY,a.draw()}$(t).text($.trim($(t).text()));var a=new Shine(t);window.addEventListener("mousemove",n,!1)})},D=function(){var e=$(".js-animate-num");e.length&&e.each(function(e,t){$(t).animateNumber({number:+$(t).text(),numberStep:$.animateNumber.numberStepFactories.separator(" ")},2e3)})},M=function(){var e=$(".js-modal");if(e.length){var t,n,a,i,o=$(".header").css("padding-right"),s=$("body").css("margin-right");$(document).on("click",".js-modal",function(){var e=this;$("#"+$(e).attr("data-modal")).arcticmodal({beforeOpen:function(e,o){i="hidden"!=$(e.wrap).css("overflow"),i&&(t=$(e.wrap).outerWidth(!0),$(e.wrap).css("overflow","hidden"),n=$(e.wrap).outerWidth(!0),a=n-t,$(".header").css("padding-right",a),$("body").css("margin-right",a))},afterOpen:function(e,t){$(".box-modal:visible").not($(t)).length&&"true"==$(t).attr("data-single")&&$(".box-modal:visible").not($(t)).arcticmodal("close")},afterClose:function(e,t){$(".box-modal:visible").length||($(e.wrap).css("overflow","auto"),$(".header").css("padding-right",o),$("body").css("margin-right",s))}})}),$(document).on("click",".arcticmodal-close",function(){$(this).closest(".box-modal").arcticmodal("close")})}},S=function(){var e=$(".js-reasons-slider");e.length&&e.slick({infinite:!0,dots:!0,autoplay:!0,prevArrow:".js-reasons-slider-nav__prev",nextArrow:".js-reasons-slider-nav__next",appendDots:".js-reasons-slider-pager",customPaging:function(e,t){return" "}})},j=function(e){function t(){if("undefined"==typeof YT||"undefined"==typeof YT.Player){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubePlayerAPIReady=function(){n()}}else n()}function n(){s=new YT.Player("player",{events:{onReady:a,onStateChange:i},playerVars:r})}function a(){s.loadVideoById(d[h]),s.mute()}function i(e){1===e.data?setTimeout(function(){$(".player").addClass("active")},1e3):0===e.data&&s.seekTo(d[h].startSeconds)}function o(){if(l.length){var e=$(window).width()+200,t=$(window).height()+200;e/t>16/9?(s.setSize(e,e/16*9),$(".player__screen").css({left:"0px"})):(s.setSize(t/9*16,t),$(".player__screen").css({left:-($(".player__screen").outerWidth()-e)/2}))}}var s,r={autoplay:0,autohide:1,modestbranding:0,rel:0,showinfo:0,controls:0,disablekb:1,enablejsapi:0,iv_load_policy:3,loop:1},d=[],l=$("#player"),c=l.attr("data-videoId"),u=l.attr("data-startSeonds"),f=l.attr("data-endSeconds"),p=l.attr("data-suggestedQuality");"play"==l.attr("data-play");d.push({videoId:c,startSeconds:u,endSeconds:f,suggestedQuality:p});var h=Math.floor(Math.random()*(d.length-1+1));l.length&&t(),$(window).on("load resize",function(){o()})};return e.init=t,e}(),addActModule=function(){function e(){var e=$(".funds-slider"),t=$(".funds-list__acts"),n=$(".funds-slider__item");e.hide(),t.on("click",function(){e.hide();var t=$(this).closest(".funds-list__item").next();t.show(),t.hasClass("slick-slider")||t.slick({infinite:!1,slidesToShow:4,slidesToScroll:1})}),n.on("click",function(){n.removeClass("_active"),$(this).addClass("_active"),$("#input__project_id").val($(this).attr("data-id"))})}var t={},n=$(".add-act"),a=(n.find(".add-act__main"),n.find(".add-act__screen:not(.add-fond-popup)")),i=n.find(".add-act__steps-item"),o=n.find(".add-act__nav-btn_prev"),s=n.find(".add-act__nav-btn_next"),r=n.find(".j-addphoto"),d=($(".j-add-act-before-photo"),n.find("#input__category_id")),l=n.find("#input__reason_id"),c=n.find("#behavior-date"),u=n.find(".add-act__info [required]"),f=n.find("#input__fund_id"),p=(n.find("#fund-registration-form"),0),h=["enabled","enabled","enabled","enabled"],m=0,v=h.length-1,_=!1;""!=$("#input__project_id").val()&&v--;var g=function(){n.length&&(C(D()),y(),b()),w(),e(),$(document).on("reinit-sliders","#fund-registration-form .funds-list",function(t){e()})},w=function(){PreviewImages('<div class="ovh max-block centriner js-thumbnail"><div class="centriner__item"><img class="max-img" src="" alt=""/></div></div>',r,"replace-input")},b=function(){n.on("click",S),u.on("change",function(e){y()}),r.on("change",function(e){if(this.files&&this.files[0]){var t=parseInt(r.data("max-size")),n=r.closest(".add-photo__item-wrapper"),a=n.find(".help-block"),i=this.files[0].size;i>t?(r.val(""),a.show(),n.find(".add-photo__item").removeClass("PreviewImage-loaded"),n.find(".js-thumbnail").remove()):a.hide(),y()}})},y=function(){var e=!1;switch(p){case 0:d.val()&&(e=!0);break;case 1:l.val()&&(e=!0);break;case 2:e=!0,u.each(function(){var t=$(this),n=t.val();return n.length?void 0:void(e=!1)});break;case 3:f.val()&&(e=!0)}return e===!0?s.removeClass("btn_disabled"):s.addClass("btn_disabled"),_=e},k=function(e){if(h[e]="disabled",i.eq(e).hide(),e===v)for(;e>=0&&(v--,"enabled"!==h[v]););if(e===m)for(;e<h.length&&(m++,"enabled"!==h[m]););},x=function(e){h[e]="enabled",i.eq(e).show(),e>v&&(v=e),m>e&&(m=e)},C=function(e){if(!(void 0==e||m>e||e>v)){var t=a.filter(".add-act__screen_active"),n=(t.next(".add-act__screen"),t.prev(".add-act__screen"),a.eq(e));t.removeClass("add-act__screen_active"),n.fadeIn(400,function(){n.addClass("add-act__screen_active").css({opacity:"",display:""})}),i.removeClass("add-act__steps-item_active").eq(e).addClass("add-act__steps-item_active"),fnModule.animateScroll($(".main")),e===v?s.text("Опубликовать"):s.text("Следующий шаг"),e===m?(o.addClass("add-act__nav-btn_hidden"),s.addClass("add-act__nav-btn_hidden")):(s.hasClass("add-act__nav-btn_hidden")&&s.removeClass("add-act__nav-btn_hidden"),o.hasClass("add-act__nav-btn_hidden")&&o.removeClass("add-act__nav-btn_hidden")),M(e),p=e,y()}},D=function(){var e=window.location.hash.indexOf("#step_")>=0,t=parseInt(window.location.hash[6]);if(e&&$.isNumeric(t)&&!(t>h.length-1))return t},M=function(e){var t=window.location.hash.indexOf("?"),n=t>=0?window.location.hash.slice(t):"";Events.trigger("AddActModule.change","step_"+e+n)},S=function(e){var t=($(this),$(e.target)),n=t.closest(".add-act__nav-btn"),i=t.closest(".add-act__categories-item"),o=t.closest(".add-act__occasions-item"),r=t.closest(".j-set-step"),u=t.closest(".add-act__funds-item");if(r.length){e.preventDefault();var m=parseInt(r.data("step"));if(m>=p)return;C(m)}if(n.length){if(n.hasClass("default_behavior"))return;if(e.preventDefault(),n.hasClass("btn_disabled"))return;for(var _=(a.filter(".add-act__screen_active"),p),g=0;5>=g;g++){if(_=n.is(s)?++_:--_,_>v)return void t.closest("form").submit();if("enabled"===h[_])break}C(_)}if(i.length){e.preventDefault();var w=i.data("val"),b=i.data("step");if(i.addClass("add-act__categories-item_selected").siblings().removeClass("add-act__categories-item_selected"),i.hasClass("js-my-act")?k(1):x(1),d.val(w),y(),t.hasClass("add-act__categories-btn")){var D=$(".add-act__categories-item_selected").find(".add-act__categories-btn").data("step");C(D)}C(b)}if(o.length){if(e.preventDefault(),o.hasClass("add-act__occasions-item_selected"))return;var w=o.data("val"),M=o.find("time").attr("datetime");o.addClass("add-act__occasions-item_selected").siblings().removeClass("add-act__occasions-item_selected"),l.val(w),M?c.pickadate("picker").set("select",M,{format:"yyyy-mm-dd"}):c.pickadate("picker").clear(),y()}if(u.length){if(e.preventDefault(),u.hasClass("add-act__funds-item_selected"))return;var w=u.data("val");u.addClass("add-act__funds-item_selected").siblings().removeClass("add-act__funds-item_selected"),f.val(w),y()}};return t.init=g,t.setStep=C,t.disableStep=k,t.enableStep=x,t}(),donationModule=function(){var e={},t=$(".donation"),n=(t.find(".donation__form"),t.find(".donation__screen")),a=t.find(".donation__step"),i=(t.find(".donation__btn-next"),$(".donation__payment_method :radio")),o=$(".donation__label_payment"),s=$(".donation__payment_type :radio"),r=$("#donation-is_agree"),d=t.find('.btn[type="submit"]'),l=t.find(".auth-soc__socials .socials__link"),c=0,u=function(){p(),m(),$.removeCookie("donation-form")},f=function(){var e=JSON.stringify(t.find("form").serializeArray());$.cookie("donation-form",e,{expires:1,path:"/"})},p=function(){t.length&&(t.on("click",_),t.on("submit",h)),s.length&&s.change(function(){m()}),l.length&&l.click(function(e){f()}),r.length&&r.on("input change",function(e){r.prop("checked")?(d.removeClass("btn_disabled"),d.removeAttr("disabled")):(d.addClass("btn_disabled"),d.attr("disabled","disabled"))})},h=function(e){var t=($(this),$(e.target)),n=t.closest(".donation__form");n.length&&e.preventDefault()},m=function(){if(i.length){var e=s.filter(".custom-input__hidden:checked").val();i.parent().hide(),o.hide(),o.filter(".type-"+e).show(),$(".form__row.type").hide(),$(".form__row.type").find("input").removeAttr("required"),o.filter(".type-"+e).show(),$(".form__row.type-"+e).show(),$(".form__row.type-"+e).find("input").attr("required","required"),i.parent().filter(".type-"+e).show().find(":radio").eq(0).prop("checked",!0)}},v=function(e){var t=n.filter(".donation__screen_active"),i=n.eq(e);i.is(t)||(t.removeClass("donation__screen_active"),i.fadeIn(400,function(){i.addClass("donation__screen_active").css({opacity:"",display:""})}),a.removeClass("donation__step_active").eq(e).addClass("donation__step_active"),fnModule.animateScroll($(".main")))},_=function(e){var t=($(this),$(e.target)),n=t.closest(".donation__btn-prev"),a=t.closest(".donation__btn-next");a.length&&(e.preventDefault(),v(++c)),n.length&&(e.preventDefault(),v(--c))};return e.init=u,e.setStep=v,e}(),cabinetModule=function(){var e={},t=function(){a(),i(),n()},n=function(){PreviewImages('<div class="ovh max-block centriner"><div class="centriner__item"><img class="max-img" src="" alt=""/></div></div>',$(".j-preview-avatar"),"replace-input")},a=function(){},i=function(){var e=$("#chart-container");e.highcharts({chart:{type:"column",inverted:!0},title:{text:""},xAxis:{lineColor:"#000",type:"category",tickColor:"#fff",labels:{rotation:0}},yAxis:{min:0,lineColor:"#000",opposite:!0,gridLineColor:"#000",gridLineWidth:0,lineWidth:1,tickLength:10,tickWidth:1,tickColor:"#000",tickInterval:5e4,title:{text:""},labels:{formatter:function(){return Highcharts.numberFormat(this.value,0)}}},legend:{enabled:!1},tooltip:{pointFormat:""},plotOptions:{series:{pointWidth:20}},series:[{name:"",color:"#4682B4",data:[["vis",43e4],["util",18e4],["animate",1e5],["query",9e4],["analytics",5e4],["scale",45e3],["data",43e3],["physics",4e4],["display",35e3],["flex",1e4]]}],exporting:{enabled:!1},credits:{enabled:!1}})};return e.init=t,e}(),occasionsModule=function(){var e={},t=($(".occasions-sec"),function(){});return e.init=function(){t()},e}(),newsModule=function(){var e={},t=($(".news-sec"),function(){});return e.init=function(){t()},e}(),AddPhotoModule=function(){function e(e,t){var n=e.get(0).files[0],a=new FileReader;a.onload=function(e){return function(e){t(e)}}(n),a.readAsDataURL(n)}var t=function(){n(),a()},n=function(){var e=$('<li class="add-photo__item-wrapper"><div class="user-photo add-photo__item"><div class="user-photo__img-wrapper"><img src="" class="user-photo__img add-photo__img" alt="" role="presentation"></div><button title="Удалить фотографию" class="user-photo__remove">Удалить фотографию</button></div></li>');$("body").on("change",".j-upload-photo-simple",function(t){var n,i=$(this),o=$(this).clone();if(window.File&&window.FileReader&&window.FileList&&window.Blob)for(var s=0;s<t.target.files.length;s++){var r=new FileReader;r.readAsDataURL(t.target.files[s]),n=e.clone(),i.after(o),r.onload=function(e){n.find(".add-photo__img").attr("src",e.target.result),$(".add-photo__list").html(n),a(n.find(".user-photo__remove")),n.find(".add-photo__item").append(i)}}else{var d=t.target.value;if(!d)return;d=d.split("\\"),n=e.clone(),n.find(".user-photo__img-wrapper").html(d[d.length-1]),i.parents(".add-photo__item-wrapper").before(n),a(n.find(".user-photo__remove"))}}),$("body").on("change",".j-upload-photo",function(t){var n,i=$(this),o=$(this).clone();if(window.File&&window.FileReader&&window.FileList&&window.Blob)for(var s=0;s<t.target.files.length;s++){var r=new FileReader;r.readAsDataURL(t.target.files[s]),n=e.clone(),i.after(o),r.onload=function(e){n.find(".add-photo__img").attr("src",e.target.result),$(".add-photo__list").prepend(n),a(n.find(".user-photo__remove")),n.find(".add-photo__item").append(i)}}else{var d=t.target.value;if(!d)return;d=d.split("\\"),n=e.clone(),n.find(".user-photo__img-wrapper").html(d[d.length-1]),i.parents(".add-photo__item-wrapper").before(n),a(n.find(".user-photo__remove"))}})},a=function(e){var t=function(e){var t=$(".j-upload-photo-input"),n=e.parents(".add-photo__item-wrapper"),a=n.index();t.eq(a).remove(),n.remove(),e.parents(".cabinet__user-photo").remove()};if(e)return void e.on("click",function(e){e.preventDefault(),t($(this))});var n=$(".user-photo__remove");n.on("click",function(e){e.preventDefault(),t($(this))})};return $(".js-remove-img").on("click",function(){$(".user-photo").remove()}),$("body").on("click",".js-remove-list",function(){$(this).parents(".report-block__months-item").get(0).remove()}),$("body").on("click",".js-remove-img",function(){console.log(this),$(this).closest(".add-photo__item-wrapper").remove()}),$(function(){$(".js-file-box").each(function(){var e=$(this),t=e.next("label"),n=t.html();e.on("change",function(e){var a="";this.files&&this.files.length>1?a=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(a=e.target.value.split("\\").pop()),a?t.find("span").html(a):t.html(n)}),e.on("focus",function(){e.addClass("has-focus")}).on("blur",function(){e.removeClass("has-focus")})})}),{init:t,onFileLoad:e}}(),fundModule=function(){function e(){n(),d(),o.length&&t(),$(".add-report").each(function(){a($(this))})}function t(){var e=!0,t=s.filter(':not([type="hidden"]):not([type="submit"])');return t.each(function(){var t=$(this);return t.is("#fund-register-form-is_agree")&&!t.prop("checked")?e=!1:void 0}),e&&r.hasClass("btn_disabled")?r.removeClass("btn_disabled").removeAttr("disabled"):e||r.hasClass("btn_disabled")||r.addClass("btn_disabled").attr("disabled","disabled"),e}function n(){function e(e){var t=Object.create(null),n=e.closest(".reg-docs-list__item");if(t.fullName=e.val().split("\\").pop(),t.name=t.fullName.split("."),t.ext=t.name.pop(),t.name=t.name.join(),t.fullName){var a=n.find(".upload-file__upload-word"),i=n.find(".upload-file__change-word"),o=n.find(".reg-docs-list__value");a.is(":visible")&&(a.hide(),i.show()),o.text(t.fullName),n.addClass("reg-docs-list__item_active")}}var t=$(".reg-docs-list"),n=t.find(".reg-docs-list__item");n.each(function(){var t=$(this),n=t.find(".upload-file__input");e(n)}),n.on("change",function(t){var n=($(this),$(t.target));e(n)})}function a(e){function t(e){return u=!0,f?void $.ajax({data:e,type:"POST",dataType:"json",processData:!1,contentType:!1,success:function(e){if(e.reset&&a(),e.id){var t=$(".report-block__remove").filter("[data-id=0]");t=t.length?t:$(".user-photo__remove").filter("[data-id=0]"),t.data("id",e.id),t.attr("data-id",e.id)}}}):void o.submit()}function n(e){return e.hasClass(".js-input-mask")?e.inputmask("isComplete"):!!e.val().length}function a(){s.each(function(){var e=$(this);e.val("").trigger("change")}),u=!1}var i="",o=e.is("form")?e:e.find("form"),s=e.find(".add-report__input"),r=e.find(".add-report__btn"),d=e.find(".add-report__result"),l=e.data("type"),c=!1,u=!1,f="function"==typeof window.FormData;switch(e.on("click",".report-block__change",function(){var e=s.filter(".add-report__input_month-file");$monthDateInput=s.filter(".add-report__input_month"),$monthDateInput.attr("value",$(this).attr("data-date")),$monthDateInput.val($(this).attr("data-date")),e.trigger("click"),e.one("change",function(e){var n;n=new FormData(o.get(0)),n.append("form_type","month"),t(n)})}),l){case"year":i+='<li class="add-photo__item-wrapper"><div class="add-report__year"></div><div class="user-photo add-photo__item"><div class="user-photo__img-wrapper"><img src="" class="user-photo__img add-photo__img" alt="" role="presentation"></div><button title="Удалить отчет" class="year_report-block__remove user-photo__remove js-remove-img" data-id="0">Удалить отчет</button></div></li>';break;case"month":i+='<li class="report-block__months-item"><div class="link-file"><svg class="link-file__icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="i/icons.svg#icon-doc-min"></use></svg></div><div class="report-block__actions"><a class="link-base report-block__change" href="javascript:void(0)"> изменить </a><button title="Удалить" class="report-block__remove js-remove-list" data-id="0">Удалить</button></div></li>'}e.on("submit",function(e){!f&&u||e.preventDefault()}),e.on("input change",function(e){c=!0,s.each(function(){var e=$(this);return n(e)?void 0:void(c=!1)}),c?r.removeClass("btn_disabled"):r.addClass("btn_disabled")}),e.on("click",function(e){var n=$(e.target),a=n.closest(".add-report__btn");if(a.length&&c){var r,u=$(i);if(f&&(r=new FormData(o.get(0))),"year"===l){r.set("form_type","year");var p=u.find(".add-report__year"),h=s.filter(".add-report__input_year"),m=$(document.createTextNode(h.val()));$poster=u.find(".add-photo__img"),$posterInput=s.filter(".add-report__input_poster"),$yearFile=s.filter(".add-report__file_year"),$deleteLink=u.find(".report-block__remove"),d.find(".add-photo__item-wrapper").each(function(){var e=$(this),t=parseInt(e.find(".add-report__year").text()),n=parseInt(h.val());t===n&&e.remove()}),p.append(m),$("#add-report-block").arcticmodal(),AddPhotoModule.onFileLoad($posterInput,function(e){$poster.attr("src",e.target.result)}),r.set("date",h.val()),r.set("doc_file",$yearFile.get(0).files[0]),r.set("year_poster",$posterInput.get(0).files[0])}else if("month"===l){r.append("form_type","month");var v=u.find(".link-file"),_=s.filter(".add-report__input_month"),g=parseInt(_.val().split(".")[0]),w=_.val().split(".")[1],b=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],y=$(document.createTextNode(b[g-1]+" "+w));d.find(".report-block__months-item").each(function(){var e=$(this),t=e.find(".link-file").get(0).textContent.trim();y.text().trim()===t&&e.remove()}),v.append(y),u.find(".report-block__change").attr("data-date",_.val()),$("#add-report-block").arcticmodal()}else"message"==l&&(r.set("form_type","message"),r.set("report_description",$("#report_description").val()));d.append(u),t(r)}})}var i={},o=$("#fund-registration-form"),s=o.length?$(o.get(0).elements):null,r=o.find('.btn[type="submit"]'),d=function(){PreviewImages('<div class="ovh max-block__height centriner centriner__wa"><img class="max-img" src="" alt=""/></div>',$(".j-preview-logo"),"replace-input")};return $(document).on("click",".report-block__remove, .year_report-block__remove",function(){$.ajax({data:{form_type:"delete",id:$(this).data("id")},type:"POST"})}),o.on("change",t),i.init=e,i}(),actOneModule=function(){function e(){s()}var t={},n=$(".tabs_acts-one"),a=$(".tabs__nav-link[data-hide]"),i=$("."+a.attr("data-hide")),o=a.closest(".act-columns__content-left"),s=function(){n.length&&n.on("easytabs:before tabs:init",function(e,t,n){t.is(a)?(i.hide(),o.addClass("act-columns__content-left_base")):(i.show(),o.removeClass("act-columns__content-left_base"))})};return t.init=e,t}();$(function(){AnchorController.init(),fnModule.init(),animationsModule.init(),actOneModule.init(),tabsModule.init(),toggleModule.init(),formModule.init(),addActModule.init(),cabinetModule.init(),donationModule.init(),AddPhotoModule.init(),occasionsModule.init(),newsModule.init(),appModule.init(),fundModule.init()});