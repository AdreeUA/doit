!function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var d="function"==typeof require&&require;if(!s&&d)return d(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(t,e,n){$(function(){var e=t("./modules/app"),n=t("./modules/donation"),i=t("./modules/select"),o=t("./modules/like"),a=t("./modules/slider"),r=t("./modules/add-photo"),s=t("./modules/tabs"),d=t("./modules/toggle"),l=(t("./modules/burger-btn"),t("./modules/header")),c=t("./modules/custom-input"),u=t("./modules/masked-input"),p=t("./modules/popup"),f=t("./modules/battery"),_=t("./modules/supporter"),h=t("./modules/datepicker");e.init(),n.init(),i.init(),s.init(),o.init(),a.init(),r.init(),d.init(),l.init(),c.init(),u.init(),p.init(),f.init(),_.init(),h.init()})},{"./modules/add-photo":4,"./modules/app":5,"./modules/battery":6,"./modules/burger-btn":7,"./modules/custom-input":8,"./modules/datepicker":9,"./modules/donation":10,"./modules/header":11,"./modules/like":12,"./modules/masked-input":13,"./modules/popup":14,"./modules/select":15,"./modules/slider":16,"./modules/supporter":17,"./modules/tabs":18,"./modules/toggle":19}],2:[function(t,e,n){e.exports=function(t){var e=t.get(0),n=e.getBoundingClientRect(),i=document.documentElement.clientHeight,o=n.top>0&&n.top<i,a=n.bottom<i&&n.bottom>0;return o||a}},{}],3:[function(t,e,n){var i=t("./is-visible");e.exports=function(t,e){var n=function(o){i(t)&&(e(),$(document).off("scroll",n))};$(document).on("scroll",n),n()}},{"./is-visible":2}],4:[function(t,e,n){"use strict";var i=function(){r(),s()},o=function(){o=window.File&&window.FileReader&&window.FileList&&window.Blob?function(t){for(var e=0;e<t.input.files.length;e++){var n=new FileReader;n.readAsDataURL(t.input.files[e]),n.onload=function(e){"function"==typeof t.fileReaderEnabled&&t.fileReaderEnabled(e)}}}:function(t){"function"==typeof t.fileReaderDisabled&&t.fileReaderDisabled()}};o();var a=function(t){var e=t.value;return!!e&&(e=e.split("\\"),e[e.length-1])},r=function(){$(".js-avatar-upload").on("change",function(t){var e=$(this),n=e.closest(".add-photo"),i=n.find(".add-photo__avatar");o({input:this,fileReaderEnabled:function(t){i.attr({src:t.target.result,srcset:t.target.result+" 2x"}),n.addClass("add-photo_uploaded")},fileReaderDisabled:function(){var e=a(t.target);e&&(n.addClass("add-photo_uploaded"),i.attr({src:"",alt:e}))}})}),$("body").on("change",".js-upload-photo",function(t){var e=$(this),n=e.clone(),i=$('<li class="add-photo__item-wrapper"><div class="user-photo add-photo__item"><div class="user-photo__img-wrapper"><img src=""  class="user-photo__img add-photo__img" alt="" role="presentation"></div><button title="Удалить фотографию" class="user-photo__remove">Удалить фотографию</button></div></li>');e.after(n),o({input:this,fileReaderEnabled:function(t){i.find(".add-photo__img").attr("src",t.target.result),$(".add-photo__list").prepend(i),s(i.find(".user-photo__remove")),i.find(".add-photo__item").append(e)},fileReaderDisabled:function(){var n=a(t.target);n&&(i.find(".user-photo__img").attr({alt:n,src:""}),e.closest(".add-photo__item-wrapper").before(i),s(i.find(".user-photo__remove")),e.val(""))}})}),$("body").on("change",".js-upload-photo-simple",function(t){var e=$(this),n=e.clone(),i=$('<li class="add-photo__item-wrapper add-photo__item-wrapper_change"><div class="user-photo add-photo__item"><div class="user-photo__img-wrapper"><img src=""  class="user-photo__img add-photo__img" alt="" role="presentation"></div><button title="Удалить фотографию" class="user-photo__remove">Удалить фотографию</button></div></li>');e.after(n),o({input:this,fileReaderEnabled:function(t){i.find(".add-photo__img").attr("src",t.target.result),$(".add-photo__item-wrapper_change").length?$(".add-photo__list").find(".add-photo__item-wrapper_change").replaceWith(i):$(".add-photo__list").prepend(i),s(i.find(".user-photo__remove")),i.find(".add-photo__item").append(e)},fileReaderDisabled:function(){var n=a(t.target);n&&(i.find(".user-photo__img").attr({alt:n,src:""}),e.closest(".add-photo__item-wrapper").before(i),s(i.find(".user-photo__remove")),e.val(""))}})})},s=function(t){var e=function(t){t.closest(".add-photo__item-wrapper").remove(),t.closest(".cabinet__user-photo").remove()};if(t)return void t.on("click",function(t){t.preventDefault(),e($(this))});var n=$(".user-photo__remove");n.on("click",function(t){t.preventDefault(),e($(this))})};e.exports={init:i}},{}],5:[function(t,e,n){e.exports={init:function(){window.viewportUnitsBuggyfill.init({hacks:window.viewportUnitsBuggyfillHacks}),svg4everybody()}}},{}],6:[function(t,e,n){function i(t){var t=t||$(".battery"),e=$.animateNumber.numberStepFactories.append("%");t.length&&t.each(function(){function t(){r.css("width",i+"%"),s.animateNumber({number:i,numberStep:e},2e3)}var n=$(this),i=parseInt(n.data("val")),r=n.find(".battery__progress"),s=n.find(".battery__val");o(n,function(){var e=setInterval(function(){var i=(new Date-a)/1e3;i>3&&(clearInterval(e),o(n,t))},100)})})}var o=t("../functions/trigger-on-scroll"),a=new Date;$(document).on("battery-loaded",function(){i()}),e.exports={init:i}},{"../functions/trigger-on-scroll":3}],7:[function(t,e,n){function i(t){t.preventDefault(),$(this).toggleClass("burger-btn_active")}$burgerBtn=$(".burger-btn"),$burgerBtn.on("click",i)},{}],8:[function(t,e,n){function i(t){var e=$(this),n=$(t.target),i=e.find(".custom-input__hidden"),o=e.find(".custom-input_user-val .custom-input__label"),a=n.closest(".custom-input_user-val");a.length?(i.filter(":checked").removeAttr("checked"),o.addClass("custom-input__label_has-val"),i.attr("required")&&(i.removeAttr("required"),o.attr("required",""))):(o.val("").removeClass("custom-input__label_has-val"),o.attr("required")&&(o.removeAttr("required"),i.attr("required","")))}e.exports={init:function(){var t=$(".tiling-inputs");t.length&&t.on("change",i)}}},{}],9:[function(t,e,n){function i(t){t=t||$(".datepicker"),t.each(function(){var t=$(this),e=t.find(".datepicker__input");t.find(".picker");e.pickadate({onOpen:function(){$("body").addClass("hidden-fixed"),e.addClass("datepicker__input_hidden")},onClose:function(){$("body").removeClass("hidden-fixed"),e.removeClass("datepicker__input_hidden")}})})}jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],weekdaysFull:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],weekdaysShort:["вс","пн","вт","ср","чт","пт","сб"],today:"сегодня",clear:"удалить",close:"закрыть",firstDay:1,format:"dd.mm.yyyy",formatSubmit:"yyyy/mm/dd"}),e.exports={init:i}},{}],10:[function(t,e,n){function i(){var t=o.find(".donation__main");t.steps({headerTag:".donation__step-name",bodyTag:".donation__step-body",forceMoveForward:!0,transitionEffect:"fade",labels:{next:"Перейти к выбору способа оплаты",finish:"Оплатить"},onInit:function(e,n){var i=t.find(".actions a");c=o.find(".btn__donation--finish"),c.hide(),i.addClass("btn btn_size_wide btn_light"),customInputModule.init()},onStepChanged:function(e,n){var i=o.find('input[name="is_agree"]'),a=o.find(".btn__donation--finish");i.length&&i.on("input change",function(t){i.prop("checked")?(a.removeClass("btn_disabled"),a.removeAttr("disabled")):(a.addClass("btn_disabled"),a.attr("disabled","disabled"))});var r=t.find('.actions a[href="#next"]'),s=t.find('.actions a[href="#finish"]');s.hide(),a.hide(),1===n?r.text("Перейти к оплате"):2===n&&(r.hide(),a.show()),customInputModule.init()},onFinished:function(e){var n=(o.find(".donation__finish"),o.find(".donation__title")),i=o.find(".btn__donation--finish");i.hide(),$(document).scrollTop(0),n.hide(),t.hide()}})}var o=$(".donation"),a=(o.find(".donation__form"),o.find(".donation__screen")),r=o.find(".donation__step"),s=(o.find(".donation__btn-next"),$(".donation__payment_method :radio")),d=$(".donation__label_payment"),l=$(".donation__payment_type :radio"),c=($("#donation-is_agree"),o.find(".btn__donation--finish"));$loginBtn=$(".form__row_socials .auth-soc__socials .socials__link"),currentStep=0,customInputModule=t("./custom-input"),selectModule=t("./select");var u=function(){var t=JSON.stringify($(".donation").find("form").serializeArray());$.cookie("donation-form",t,{expires:1,path:"/"})},p=function(){o.length&&o.on("click",h),$loginBtn.length&&$(document).on("click",".form__row_socials .auth-soc__socials .socials__link",function(t){u()}),$(document).on("set_step",".donation",function(){$('a[href="#next"]').click(),$('a[href="#next"]').click()})},f=function(){if(s.length){var t=l.filter(".custom-input__hidden:checked").val();s.parent().hide(),d.hide(),d.filter(".type-"+t).show(),$(".form__row.type").hide(),$(".form__row.type").find("input").removeAttr("required"),d.filter(".type-"+t).show(),$(".form__row.type-"+t).show(),$(".form__row.type-"+t).find("input").attr("required","required"),s.parent().filter(".type-"+t).show().find(":radio").eq(0).prop("checked",!0)}},_=function(t){var e=a.filter(".donation__screen_active"),n=a.eq(t);n.is(e)||(e.removeClass("donation__screen_active"),n.fadeIn(400,function(){n.addClass("donation__screen_active").css({opacity:"",display:""})}),r.removeClass("donation__step_active").eq(t).addClass("donation__step_active"),fnModule.animateScroll($(".main")))},h=function(t){var e=($(this),$(t.target)),n=e.closest(".donation__btn-prev"),i=e.closest(".donation__btn-next");i.length&&(t.preventDefault(),_(++currentStep)),n.length&&(t.preventDefault(),_(--currentStep))},m=function(){$(".js-input-phone-mask").mask("+7(999) 999-99-99")};e.exports={init:function(){o.length&&(p(),f(),i(),m(),$(".donation__payment_type").find(":radio").on("change",function(){f(),$(".donation__payment_method").hide(),$(".type-"+$(this).val()).show()}))},setStep:function(){_()}}},{"./custom-input":8,"./select":15}],11:[function(t,e,n){function i(){a.toggleClass("header_menu-opened"),$("body").toggleClass("hidden-fixed")}function o(){r.on("click",i)}var a=$(".header"),r=$(".header__burger"),s=($(".search__icon-wrapper"),$(".menu__search")),d=$(".header__logo");e.exports={init:function(){o()},openMenu:i},s.click(function(){s.addClass("menu__search_active"),d.addClass("hidden-text"),$(document).mouseup(function(t){s.is(t.target)||0!==s.has(t.target).length||0!==d.has(t.target).length||d.is(t.target)||(s.removeClass("menu__search_active"),setTimeout(function(){d.removeClass("hidden-text")},350))})})},{}],12:[function(t,e,n){"use strict";var i=function(t){var e=$(this);t.preventDefault(),userAuth&&e.toggleClass("like_active")};e.exports={init:function(){$(document).on("click",".like",i)}}},{}],13:[function(t,e,n){function i(t){t=t||$(".js-masked-input"),t.length&&t.each(function(){var t=$(this),e=t.data("mask")+"",n=t.data("mask-placeholder")||"_";t.mask(e,{placeholder:n})})}e.exports={init:i}},{}],14:[function(t,e,n){function i(){var t=$(".popup");t.length&&t.remodal()}e.exports={init:i}},{}],15:[function(t,e,n){"use strict";function i(t){t=t?t:$(".select"),t.length&&t.styler()}e.exports={init:i}},{}],16:[function(t,e,n){"use strict";function i(){o(),a.on("slider:items-added",function(){o($(this),!0)})}function o(t,e){t=t||a,t.each(function(){var t=$(this),n=t.data("dots"),i=t.data("arrows"),o=t.data("center"),a=t.data("css-width");e&&(t.slick("unslick"),t.find('[aria-describedby^="slick-slide"]').remove()),t.slick({arrows:i,dots:n,mobileFirst:!0,centerMode:o,variableWidth:a})})}var a=$(".slider");e.exports={init:function(){a.length&&i()},initSliders:o}},{}],17:[function(t,e,n){var i=function(t){var e=$(this),n=e.closest(".supporter");n.toggleClass("supporter_open")};e.exports={init:function(){$(document).on("click",".supporter__switch",i)}}},{}],18:[function(t,e,n){"use strict";var i=$(".tabs"),o=function(){var t=i.find("[data-href="+window.location.hash.split("#")[1]+"]");t.click()},a=function(){var t=function(t){var e=$(this),n=$(t.target),i=n.closest(".tabs__nav-item");if(i.length){if(t.preventDefault(),i.hasClass("tabs__nav-item_active"))return;var o=e.find(".tabs__panel").first(),a=o.add(o.siblings(".tabs__panel")),r=i.data("tab");i.addClass("tabs__nav-item_active").siblings().removeClass("tabs__nav-item_active"),a.removeClass("tabs__panel_active").filter("[data-tab="+r+"]").addClass("tabs__panel_active")}},e=function(t){var e=i.find("[data-href="+$(this).attr("href").split("#")[1]+"]");e.click()};i.on("click",t),i.on("click",".js-open-tab",e)};e.exports={init:function(){i.length&&(a(),o())}}},{}],19:[function(t,e,n){var i=$(".js-toggle-wrapper"),o=function(){var t=function(t){var e=$(this),n=$(t.target),i=n.closest(".js-toggle-btn");if(i.length){if(e.hasClass("js-toggle-wrapper_open"))history.pushState("",document.title,window.location.pathname),e.removeClass("js-toggle-wrapper_open");else{var o=e.attr("id");e.removeAttr("id"),location.hash=o,e.attr("id",o),e.addClass("js-toggle-wrapper_open")}t.preventDefault()}};i.on("click",t)},a=function(){if(i.length){var t=location.hash,e=i.filter(t);e.length&&e.toggleClass("js-toggle-wrapper_open")}},r=function(){var t=$(".js-fund-acts");t.length&&t.click(function(t){t.preventDefault();var e=$(this),n=e.closest(".fund");n.toggleClass("active")})};e.exports={init:function(){o(),a(),r()}}},{}]},{},[1]);